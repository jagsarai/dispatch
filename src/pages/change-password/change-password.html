<ion-header>

  <ion-navbar color="primary">
    <ion-title>Change Password</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding>
    <div text-center>
        <img src="../../assets/road.png">
    </div>
    <ion-card>
        <ion-card-content>
            <form #f="ngForm" (ngSubmit)="changePassword()">
                <ion-item>
                    <ion-label floating>Password</ion-label>
                    <ion-input type="password" name="password" [(ngModel)]="userPassword" required reverse="true" [formControl]="passwordControl" pattern="(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$"></ion-input>
                </ion-item>

                <div padding *ngIf="passwordMissMatch && passwordConfrimControl.touched">
                    <span class="global__input-error">Password mismatch</span>
                </div>

                <div padding *ngIf="passwordControl.invalid && (passwordControl.dirty || passwordControl.touched)">
                    <span class="global__input-error">Password must have 6 to 16 characters and 1 special character</span>
                </div>
                
                <ion-item>
                    <ion-label floating>Confirm Password</ion-label>
                    <ion-input type="password" name="confirmPassword" required [(ngModel)]="userConfPassword" [formControl]="passwordConfrimControl"></ion-input>
                </ion-item>


                <div padding *ngIf="userConfPasswordMissMatch && (passwordConfrimControl.dirty || passwordConfrimControl.touched)">
                    <span class="global__input-error">Password mismatch</span>
                </div>
              <ion-buttons end>
                  <button ion-button color="secondary" type="submit" [disabled]="passwordMissMatch ||userConfPasswordMissMatch || userPassword === '' ||userConfPassword === ''">Submit</button>
              </ion-buttons> 
            </form> 
        </ion-card-content>
    </ion-card>

</ion-content>